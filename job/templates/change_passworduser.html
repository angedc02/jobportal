{% load static %}
{% block body %}
{% include 'user_navigation.html' %}

<style>
    .col-lg-6{
      margin: max(15vh, 4rem) auto;
    }
    .box{
      margin-bottom: 2rem;
      box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
      border-radius: 0.7rem;
      padding: 1rem 0;
    }
</style>
<script>
    function checkpass(){
        if(document.changepassword.newpassword.value != document.changepassword.confirmpassword.value){
            alert('New Password and Confirm Password field does not match');
            document.changepassword.newpassword.focus();
            return false;
        }
        return true;
    }
</script>
<div class="col-lg-6">
    <div class="box">
        <form class="container mt-5" method="post" name="changepassword" onsubmit="return checkpass()">
        {% csrf_token %}
        <label><b>Current Password</b></label>
        <input type="password" class="form-control" name="currentpassword" required="true">
        <label><b>New Password</b></label>
        <input type="password" class="form-control" name="newpassword" required="true">
        <label><b>Confirm New Password</b></label>
        <input type="password" class="form-control" name="confirmpassword" required="true">
        <input type="submit" class="btn btn-primary" style="margin-top: 2%; color: #fff; background-color: #1DA1F2;">
        </form>
    </div>
</div>

{% if error == "no" %}
<script>
    alert("Your password updated successfully");
    window.location = ('{% url 'Logout' %}')
</script>
{% endif %}

{% if error == "yes" %}
<script>
    alert("Something went wrong, Try Again");
</script>
{% endif %}

{% if error == "not" %}
<script>
    alert("Your current password is wrong");
</script>
{% endif %}
{% endblock %}